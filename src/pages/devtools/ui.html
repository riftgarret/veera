<!DOCTYPE html>
<html>
    <head>
        <title>Veera</title>
        <meta charset="UTF-8">
        <link href="../stylesheets/ui.css" rel="stylesheet">
        <link id="theme" href="../stylesheets/night.css" rel="stylesheet">
        <link rel="stylesheet" href="../stylesheets/jquery-ui.min.css">
        <script type="text/javascript" src="jquery-3.5.1.min.js"></script>
        <script type="text/javascript" src="jquery-ui-1.12.1.min.js"></script>
        <script type="text/javascript" src="message.js"></script>
        <script type="text/javascript" src="network.js"></script>
        <script type="text/javascript" src="storage.js"></script>
        <script type="text/javascript" src="../../lib/Chart.min.js"></script>
        <script type="text/javascript" src="ui.js" defer></script>
        <script  type="text/javascript" src="unfUI.js" defer></script>
        <script  type="text/javascript" src="battleUI.js" defer></script>
        <script  type="text/javascript" src="../../lib/djeeta-script-manager.js" defer></script>
        <script  type="text/javascript" src="djeetaUI-runner.js" defer></script>
        <script  type="text/javascript" src="djeetaUI.js" defer></script>                
        <script type="text/javascript" src="main.js" defer></script>
    </head>
    <body>
        <div id="inactive">
            Veera is inactive.
            Most likely not loaded from a GBF tab.
            Otherwise please check the background page for issues.
        </div>
        <div id="top-display">
            <div id="profile">
                <div id="ap-bp-display" class="display" data-event="navigate" data-value="#item">
                    <div id="ap-display">AP: <span id="ap-current" class="current-value">0</span>/<span id="ap-max" class="max-value">0</span></div>
                    <div id="bp-display">BP: <span id="bp-current" class="current-value">0</span>/<span id="bp-max" class="max-value">10</span></div>
                </div>
                <div id="status-display" class="display">
                    <div class="value-display">
                        Rank: <span id="rank">0</span>
                    </div>
                    <div class="value-display">
                        RP: <span id="rank-pts">0</span>
                    </div>
                    <div class="value-display">
                        Class lvl: <span id="class-lvl">0</span>
                    </div>
                </div>
                <div id="currency-display" class="display">
                    <div class="div-hor">
                        <div class="value-display">Crystals: <span id="num-crystal">0</span></div>
                        <div class="value-display">Rupies: <span id="num-rupies">0</span></div>
                        <div class="value-display" data-event="navigate" data-value="#casino">Chips: <span id="num-chips">0</span></div>
                    </div>
                    <div class="div-hor">
                        <div class="value-display">CP: <span id="num-cp">0</span></div>
                        <div class="value-display">EMP: <span id="num-emp">0</span></div>
                        <div class="value-display">JD: <span id="num-jd">0</span></div>
                    </div>
                </div>
                <div id="pendants-display" class="display">
                    <div class="div-hor" data-event="navigate" data-value="#shop/exchange/points">
                        <div class="value-display">Renown: <span><span id="display-renown-total" class="current-value">0</span>/<span id="display-renown-max" class="max-value">0</span></span></div>
                        <div class="value-display">Prestige: <span><span id="display-prestige-total" class="current-value">0</span>/<span id="display-prestige-max" class="max-value">0</span></span></div>
                    </div>
                    <div class="div-hor" data-event="navigate" data-value="#arcarum2">
                        <div class="value-display">Arcarum tck: <span><span id="num-arc-tck" class="current-value">0</span>/<span id= "max-arc-tck" class="max-value">0</span></span></div>
                        <div class="value-display">Arcarum pts: <span><span id="num-arc-pts" class="current-value">0</span>/<span id= "max-arc-pts" class="max-value">0</span></span></div>
                    </div>
                </div>
            </div>
            <div class="sep"></div>
            <div id="time">
                <template id="t-buffTimers">
                    <span class="buffTimer" title="buffname"><img src="../../assets/images/icons/zp.png"><span class="buff-d">-</span>d <span class="buff-h">-</span>h <span class="buff-m">-</span>m</span>
                </template>
                <div id="buffTimers" data-event="navigate" data-value="#shop/exchange/trajectory">
                </div>
                <div class="display" id="jst-time">
                    <span class="display-title">JST</span>
                    <span class="timer-display"><span id="jst-h">--</span>:<span id="jst-m">--</span><span id="jst-s" class="time-s">--</span></span>
                </div>
                <div class="display" id="timer-st-time" data-event="navigate" data-value="#quest/assist">
                    <span class="display-title">Strike Time</span>
                    <span class="timer-display"><span id="st1-h">--</span>:<span id="st1-m">--</span><span id="st1-s" class="time-s">--</span></span>
                    <span class="timer-display"><span id="st2-h">--</span>:<span id="st2-m">--</span><span id="st2-s" class="time-s">--</span></span>
                </div>
                <div class="display" id="timer-daily">
                    <span class="display-title">Daily</span>
                    <span class="timer-display"><span id="daily-h">--</span>:<span id="daily-m">--</span><span id="daily-s" class="time-s">--</span></span>
                </div>
                <div class="display" id="timer-weekly">
                    <span class="display-title">Weekly</span>
                    <span class="timer-display"><span id="weekly-d">--</span>d <span id="weekly-h">--</span>:<span id="weekly-m">--</span><span id="weekly-s" class="time-s">--</span></span>
                </div>
                <div class="display" id="timer-monthly">
                    <span class="display-title">Monthly</span>
                    <span class="timer-display"><span id="monthly-d">--</span>d <span id="monthly-h">--</span>:<span id="monthly-m">--</span><span id="monthly-s" class="time-s">--</span></span>
                </div>
                <div id= "timer-maint" class="display maint hidden">
                    <span class="display-title">Maintenance</span>
                    <span class="timer-display"><span id="maint-h">--</span>:<span id="maint-m">--</span><span id="maint-s" class="time-s">--</span></span>
                </div>
            </div>
            <div class="sep"></div>
        </div>
        <div id="tabs">
            <ul id="nav" class="tablist navlist">
                <li class="nav-tab active" data-navpage="dailies">Dailies</li>
                <li class="nav-tab" data-navpage="raids">Raids</li>
                <li class="nav-tab" data-navpage="supplies">Inventory</li>
                <li class="nav-tab" data-navpage="battle">Battle</li>
                <li class="nav-tab" data-navpage="unf">UNF</li>
                <li class="nav-tab" data-navpage="places">Places</li>
                <li class="nav-tab" data-navpage="tools">Tools</li>
                <li class="nav-tab" data-navpage="djeeta">Djeeta</li>
                <li class="nav-tab" data-navpage="settings">Settings</li>
                <li id="app-version"></li>
            </ul>
            <div id="dailies" class="tab active">
                <div id="pendants-panel" class="panel">
                    <span class="panel-header" data-event="collapse">Pendants</span>
                    <ul class="panel-content">
                        <div id="renown">
                            <span class="panel-div-title">Renown</span>
                            <li>Daily: <span id="panel-renown-daily">0</span>/<span id="panel-renown-daily-max">0</span></li>
                            <li>Weekly: <span id="panel-renown-weekly">0</span>/<span id="panel-renown-weekly-max">0</span></li>
                            <li>SR: <span id="panel-renown-sr">0</span>/<span id="panel-renown-sr-max">0</span></li>
                            <li>R: <span id="panel-renown-r">0</span>/<span id="panel-renown-r-max">0</span></li>
                        </div>
                        <div class="spacer"></div>
                        <div id="prestige">
                            <span class="panel-div-title">Prestige</span>
                            <li>Weekly: <span id="panel-prestige-weekly">0</span>/<span id="panel-prestige-weekly-max">0</span></li>
                            <li>Crew: <span id="panel-prestige-crew">0</span>/<span id="panel-prestige-crew-max">0</span></li>
                        </div>
                    </ul>
                </div>
            </div>
            <div id="supplies" class="tab">
                <ul id="nav-supplies" class="tab-view-list navlist">
                    <li class="tab-view active" data-navpage="supplies-view">Inventory</li>
                    <li class="tab-view" data-navpage="planner-view">Planner</li>
                </ul>
                <div class="spacer"></div>
                <div id="supplies-view" class="view active">
                    <div id="supplies-panel" class="panel">
                        <template id="template-supply-item">
                            <li id="" class="collection-item" title="Item name" data-cat="">
                                <img class="collection-icon" src="../../assets/images/anchiraicon.png"/>
                                <div class="collection-data">
                                    0
                                </div>
                            </li>
                        </template>
                        <span class="panel-header" data-event="collapse">Supplies</span>
                        <div class="panel-content">
                            <div class="panel-filter">
                                <ul id="supplies-filter">
                                    <li class="active" data-event="filter" data-value="ALL">All</li>
<!--                                    Todo: fill list programatically-->
                                    <li data-event="filter" data-value="Consumables" data-meta="true">Consumables</li>
                                    <li data-event="filter" data-value="Currencies" data-meta="true">Currencies</li>
                                    <li data-event="filter" data-value="10">Treasure</li>
                                    <li data-event="filter" data-value="73">Rings</li>
                                    <li data-event="filter" data-value="67">Keys</li>
                                    <li data-event="filter" data-value="65">Arcarum</li>
                                    <li data-event="filter" data-value="8">Tickets</li>
                                </ul>
                                <input id="supplies-search" type="search" class="panel-search"/>
        <!--                        <div class="sep"></div>-->
                            </div>
                            <ul id="supplies-list" class="supply-list">
                            </ul>
                        </div>
                    </div>
                </div>
                <div id="planner-view" class="view">
                    <div id="planner-options">
                        <select id="planner-craftSeries">
                        </select>
                        <select id="planner-craftType" class="hidden">
                        </select>
                        <select id="planner-craftElement" class="hidden">
                        </select>
                        <select id="planner-craftStart" class="hidden">
                        </select>
                       <select id="planner-craftEnd" class="hidden">
                        </select>
                        <span id="planner-craftOptions">
                        </span>
                    </div>
                    <div class="spacer"></div>
                    <div id="planner-panel" class="panel">
                        <span class="panel-header" data-event="collapse">Total items</span>
                        <div class="panel-content">
                            <div class="spacer"></div>
                            <ul id="planner-list" class="supply-list">
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div id="raids" class="tab">
                <div id="raids-current" class="panel">
                    <span class="panel-header" data-event="collapse">Info</span>
                    <div class="panel-content">
                        <div class="panel-filter">
                            <ul id="raids-current-filter">
                                <li class="active" data-event="filter" data-value="ALL">All</li>
                                <li data-event="filter" data-value="ssr">SSR only</li>
                            </ul>
                        </div>
                        <div id="raid-info-grid">
                            <div>Last hosted: <span id="last-hosted-quest" data-event="repeatQuest"></span></div>
                            <div id="raid-code" data-event="copyRaidCode"></div>
                        </div>
                        <div>Quest triggered: <span id="raid-next-quest" data-event="playTriggeredQuest"></span></div>
                        <div>Drops:
                            <template id="t-raid-current-drop">
                                <li class="raid-current-drop" data-rarity="0">
                                    <img src="../../assets/images/anchiraicon.png">
                                    <span>Anchi Banana (SSR)</span>
                                </li>
                            </template>
                            <ul id="raid-current-drop-list">
                            </ul>
                        </div>
                    </div>
                </div>
                <div id="raids-panel" class="panel">
                    <template id="template-raid">
                        <li id="" class="raid" data-event="hostRaid">
                            <img class="raid-icon" src="../../assets/images/quests/2020018001.jpg" />
                            <div class="raid-data">
                                <span class="raid-name">Ultimate Bahamut HL</span>
                                <div class="raid-cost"><span>50</span> AP</div>
                                <div class="raid-host-mats">
<!--                                    Templates-->
                                </div>
                                <div class="raid-hosts">
                                    <span class="current-value">0</span>/<span class="max-value">3</span> hosts
                                </div>
                            </div>
                            <span class="raid-toggle" data-event="toggleRaid">
                            </span>
                        </li>
                    </template>
                    <template id="template-raid-material">
                            <div class="raid-mat">
                                <img title="Mat name" class="raid-mat-icon" src="../../assets/images/anchiraicon.png"/>
                                <span class="current-value">45</span>/<span class="max-value">450</span>
                            </div>
                    </template>
                    <span class="panel-header" data-event="collapse">Raids</span>
                    <div class="panel-content">
                        <div class="panel-filter">
                            <ul id="raids-filter" data-event="filter" data-value="REFILTER">
                                <li class="active" data-event="filter" data-group="special" data-value="ALL">All</li>
                                <li data-event="filter" data-group="special" data-value="INACTIVE">Inactive</li>
<!--                                Values here should be synced to raiddata.js-->
                                <li data-event="filter" data-group="special" data-value="HL">HL</li>
                                <span class="sep-v"></span>
                                <li data-event="filter" data-group="elementName" data-value="fire">Fire</li>
                                <li data-event="filter" data-group="elementName" data-value="water">Water</li>
                                <li data-event="filter" data-group="elementName" data-value="earth">Earth</li>
                                <li data-event="filter" data-group="elementName" data-value="wind">Wind</li>
                                <li data-event="filter" data-group="elementName" data-value="light">Light</li>
                                <li data-event="filter" data-group="elementName" data-value="dark">Dark</li>
                                <li data-event="filter" data-group="elementName" data-value="noEle">Null</li>
                                <span class="sep-v"></span>
                                <li data-event="filter" data-group="tierName" data-value="A">A</li>
                                <li data-event="filter" data-group="tierName" data-value="B">B</li>
                                <li data-event="filter" data-group="tierName" data-value="Magna">Magna</li>
                                <li data-event="filter" data-group="tierName" data-value="Ancient">Ancient</li>
                                <li data-event="filter" data-group="tierName" data-value="Epic">Epic</li>
                                <li data-event="filter" data-group="tierName" data-value="Nightmare">Nightmare</li>
                                <li data-event="filter" data-group="tierName" data-value="Primarch">Primarch</li>
                                <li data-event="filter" data-group="tierName" data-value="Genesis">Genesis</li>
                                <li data-event="filter" data-group="tierName" data-value="Ultimate">Ultimate</li>
                                <li data-event="filter" data-group="tierName" data-value="Rapture">Rapture</li>
                            </ul>
                        </div>
                        <ul id="raids-list" class="raid-list"></ul>
                    </div>
                </div>
            </div>
            <div id="battle" class="tab">
               <div class="panel" id="battle-boss-info">
                    <span class="panel-header" data-event="collapse">Boss Info</span>
                    <div class="panel-content">
                        <div class="centered">
                        <div class="battle-boss-container">
                            <div class="battle-boss-name">-</div>
                            <div class="battle-boss-ougi battle-warn hidden"></div>
                            <div class="battle-stats-container">
                                <div class="battle-stats">Max HP: <span data-id="battle-boss-hp-max">0</span></div>
                                <div class="battle-stats">Current HP: <span data-id="battle-boss-hp">0</span></div>
                                <div class="battle-stats">HP to next <span data-id="battle-boss-next-hp-style" style="color: inherit">5%</span>: <span data-id="battle-boss-trigger-hp">0</span></div>
                                <div class="battle-stats">Own dmg ratio: <span data-id="battle-boss-dmgDone">0</span>%</div>
                                <div class="spacer"></div>
                                <div class="battle-stats" data-stat="avgDmg">Avg dmg: <span></span></div>
                                <div class="battle-stats" data-stat="critRate">Crit rate: <span data-deci="true">0</span>%</div>
                                <div class="battle-stats" data-stat="daRate">DA rate: <span data-deci="true">0</span>%</div>
                                <div class="battle-stats" data-stat="taRate">TA rate: <span data-deci="true">0</span>%</div>
                            </div>
                        </div>
                        </div>
<!--                        <div class="sep" data-event="collapse"></div>-->
<!--
                        <div id="battle-guide-container">
                            <div>Next Trigger: <span id="battle-boss-trigger-name">The Huggies</span> at <span id="battle-boss-trigger-perc">50</span>% HP on <span id="battle-boss-trigger-target">Yuguyugu</span></div>
                            <div id="battle-boss-warn" class="battle-warn">PHALANX THAT SHIT</div>
                            <div>Note: <span id="battle-boss-note">She's big so it's dangerous!</span></div>
                            <div class="spacer"></div>
                            <div>Current ougis:
                                <ul id="battle-boss-ougi-list" class="indent">
                                    <li><span>Screeee</span> (<span>aoe, dispels, no dmg</span>)</li>
                                    <li><span>Vacant Stare</span> (<span>aoe, 2000 plain dmg, applies atk down, data down</span>)</li>
                                    <li><span>Rock Throw</span> (<span>12,000 earth dmg, applies stacking def down</span>)</li>
                                </ul>
                            </div>
                            <div class="spacer"></div>
                            <div id="battle-boss-globals" class="small-log">Makes cute sounds when touched.
                            Becomes embarassed when staring too much.</div>
                        </div>
-->
                    </div>
                </div>
                <div class="panel" id="battle-management">
                    <span class="panel-header" data-event="collapse">Selection</span>
                    <div class="panel-content hidden">
                        <select id="battle-select"></select>
                    </div>
                </div>
                <div class="panel" id="battle-overview">
                    <span class="panel-header" data-event="collapse">Overview</span>
                    <div class="panel-content">
                        <div class="canvas-container">
                            <canvas id="battle-overview-graph"></canvas>
                        </div>
                        <div class="expander small-log" data-event="collapse" data-dir="up">🠅 Show Graph 🠅</div>
                        <div class="group-cont">
                            <div class="group">
                                <div class="battle-stats" data-stat="totalDmg">Total Damage: <span>0</span></div>
                                <div class="battle-stats" data-stat="avgTurnDmg">Avg Damage: <span>0</span></div>
                                <div class="battle-stats" data-stat="dps">DPS (raid start): <span>0</span></div>
                            </div>
                            <div class="group">
                                <div class="battle-stats" data-stat="avgDaRate">DA rate: <span data-deci="true">0</span>%</div>
                                <div class="battle-stats" data-stat="avgTaRate">TA rate: <span data-deci="true">0</span>%</div>
                                <div class="battle-stats" data-stat="avgCritRate">Crit rate: <span data-deci="true">0</span>%</div>
                            </div>
                            <div class="group">
                                <div class="battle-stats" data-stat="ownDmgRatio">Dmg ratio: <span>0</span>%</div>
                                <div class="battle-stats" data-stat="avgTurnHonor">Avg Honor: <span>0</span></div>
                                <div class="battle-stats" data-stat="totalHonor">Total Honor: <span>0</span></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel centered" id="battle-characters">
                    <span class="panel-header" data-event="collapse">Characters</span>
                    <div class="panel-content hidden">
                        <template id="t-battle-char-container">
                            <div class="battle-char-container" data-char="0">
                                <div class="battle-char-name" data-event="collapse" data-in="panel" data-id="cGraphChar">Char 1</div>
                                <div class="canvas-container chara-graph">
                                    <canvas class="battle-char-graph"></canvas>
                                </div>
                                <div class="battle-stats-container">
                                    <div class="group chara">
                                        <div class="battle-stats" data-stat="totalDmg">Total dmg: <span>0</span></div>
                                        <div class="battle-stats" data-stat="avgDmg">Avg dmg: <span>0</span></div>
                                    </div>
                                    <div class="group chara">
                                        <div class="battle-stats" data-stat="daRate">DA: <span data-deci="true">0</span>%</div>
                                        <div class="battle-stats" data-stat="taRate">TA: <span data-deci="true">0</span>%</div>
                                    </div>
                                    <div class="battle-stats" data-stat="critRate">Crit rate: <span data-deci="true">0</span>%</div>
                                    <div class="battle-stats" data-stat="ougiRate">Ougi rate: <span data-deci="true">0</span>%</div>

                                    <div class="sep" data-event="collapse" data-in="panel" data-id="cStatDmgB"></div>
                                    <div class="battle-stats-container">
                                        <div class="group chara">
                                            <div class="battle-stats" data-stat="skillDmg">Skill dmg: <span>0</span></div>
                                            <div class="battle-stats" data-stat="echoDmg">Echo dmg: <span>0</span></div>
                                        </div>
                                        <div class="group chara">
                                            <div class="battle-stats" data-stat="skillDmgPerc">Skill %: <span>0</span>%</div>
                                            <div class="battle-stats" data-stat="echoDmgPerc">Echo %: <span>0</span>%</div>
                                        </div>
                                        <div class="battle-stats" data-stat="ougiDmg">Ougi dmg: <span>0</span></div>
                                        <div class="battle-stats" data-stat="ougiDmgPerc">Ougi %: <span>0</span>%</div>
                                    </div>

                                    <div class="sep" data-event="collapse" data-in="panel" data-id="cStatHeal"></div>
                                    <div class="battle-stats-container">
                                        <div class="battle-stats" data-stat="selfHealing">Heal (self): <span>0</span></div>
                                        <div class="battle-stats" data-stat="teamHealing">Heal (team): <span>0</span></div>
                                    </div>

                                    <div class="expander small-log" data-event="collapse" data-in="panel" data-id="cStatSkillExpand">🠇 Skills 🠇</div>
                                    <div class="battle-stats-container hidden small-log">
                                        <div class="battle-stats" data-stat="skillDetails"><div class="text"></div></div>
                                    </div>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>
            </div>
            <div id="unf" class="tab">
                <div id="unf-pn-area" class="panel">
                    <span class="panel-header" data-event="collapse">Area Graph</span>
                    <div class="panel-content">
                        <button id="unf-graph-start">Start</button>
                        <button id="unf-graph-stop">Stop</button>
                        <button id="unf-graph-upd">Update</button>
                        <button id="unf-graph-save">Save</button>
                        <button id="unf-graph-load">Load</button>
                        <div class="canvas-container">
                            <canvas id="unf-area-chart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            <div id="places" class="tab">
                <div class="panel">
                    <span class="panel-header" data-event="collapse">Where to?</span>
                    <div class="panel-content">
                        <div class="group-cont">
                            <div class="group">
                                <div class="place-link" data-event="navigate" data-value="#shop">Shop</div>
                                <div class="place-link" data-event="navigate" data-value="#shop/exchange/trajectory">Journey drops</div>
                                <div class="place-link" data-event="navigate" data-value="#shop/exchange/list">Trade</div>
                                <div class="place-link" data-event="navigate" data-value="#title/reward">Trophies</div>
                            </div>
                            <div class="group">
                                <div class="place-link" data-event="navigate" data-value="#party/index/0/npc/0">Party</div>
                                <div class="place-link" data-event="navigate" data-value="#casino">Casino</div>
                                <div class="place-link" data-event="navigate" data-value="#gacha">Draw</div>
                                <div id="guild-link" class="place-link" data-event="navigate" data-value="">Crew (external view)</div>
                            </div>
                            <div class="group">
                                <div class="place-link" data-event="navigate" data-value="#quest/assist">Raids</div>
                                <div class="place-link" data-event="navigate" data-value="#quest/assist/unclaimed">Pending</div>
                            </div>
                            <div class="group">
                                <div class="place-link" data-event="navigate" data-value="#arcarum2">Arcarum</div>
                                <div class="place-link" data-event="navigate" data-value="#trial_battle">Trial battles</div>
                                <div class="place-link" data-event="navigate" data-value="#sidestory">Side stories</div>
                            </div>
                            <div class="group">
                                <div class="place-link" data-event="navigate" data-value="#quest/island/1">Phantagrande</div>
                                <div class="place-link" data-event="navigate" data-value="#quest/island/2">Nalhegrande</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="tools" class="tab">
                <div id="last-support" class="panel">
                    <span class="panel-header" data-event="collapse">Last support</span>
                    <div class="panel-content">
                        <div>Summon: <span id="last-sup-sum"></span></div>
                        <div>User: <span id="last-sup-usr" data-event="navigate" data-value=""></span></div>
                    </div>
                </div>
                <div id="spark-planner" class="panel">
                    <span class="panel-header" data-event="collapse">Spark progress</span>
                    <div class="panel-content">
                        <div>Sparks ready: <span id="spark-ready"></span></div>
                        <div>Days elapsed: <span id="spark-prog-days"></span></div>
                        <div>Crystals left: <span id="spark-prog-crystals"></span></div>
                        <div>Avg crystals/day: <span id="spark-prog-avg"></span></div>
                        <div>ETA: <span id="spark-prog-eta"></span></div>
                        <button id="spark-prog-reset" data-event="resetSpark">Reset</button>
                    </div>
                </div>
            </div>
            <div id="djeeta" class="tab">
                <div id="current-fight" class="panel">
                    <span class="panel-header" data-event="collapse">Current Fight</span>
                    <div class="panel-content">                        
                        <div class="combat-state">
                            <div class="battle-stats">
                                <div class="data-row">
                                    <div>Turn: <span id="battle-turn"></span></div>
                                    <div id="stage-container">Stage: <span id="stage-num"></span></div>
                                    <div id="sequence-container">PG Sequence: <span id="sequence-num"></span></div>
                                </div>
                                <div class="boss-meta-container">
                                    <div class="boss-meta" pos="0" style="display: none;">
                                        <img class="unit-icon" />
                                        <div class="meta-container">
                                            <div>                                            
                                                <div class="unit-element-icon"></div>
                                                <div class="unit-name"></div>
                                            </div>                
                                            <div>
                                                <div class="unit-hp-progress-outer">                                                                                                
                                                    <div class="unit-hp-progress-inner"></div>                                            
                                                    <div class="unit-hp"></div>
                                                </div>                                                                                                                                                
                                            </div>
                                            <div style="justify-content: space-between;">
                                                <div class="unit-diamonds"></div>                                                                                    
                                                <div class="unit-mode"></div>
                                            </div>
                                        </div>                                                
                                        <div class="unit-conditions buffs"></div>                                        
                                        <div class="unit-conditions debuffs"></div>  
                                    </div>                                    
                                </div>
                                <div class="player-meta-container">
                                    <div class="player-meta" pos="0" style="display: none;">
                                        <div class="unit-name"></div>
                                        <img class="unit-icon" />
                                        <div class="unit-element"></div>
                                        <div class="text-hp-label" style="display: none;"></div>
                                        <div class="unit-hp" color="green"></div>
                                        <div class="unit-hp-progress-outer">                                            
                                            <div class="unit-hp-progress-inner" color="green"></div>                                            
                                        </div>
                                        <div class="unit-ca-label" style="display: none;"></div>
                                        <div class="unit-ca-progress-outer">
                                            <div class="unit-ca-progress-100"></div>
                                            <div class="unit-ca-progress-100full"></div>
                                            <div class="unit-ca-progress-200"></div>
                                            <div class="unit-ca-progress-200full"></div>
                                            <div class="unit-ca-progress-disabled"></div>
                                        </div>
                                        <div class="unit-ca-value"></div>
                                        <div class="unit-skill-label" style="display: none;"></div>
                                        <div class="unit-skill-container">
                                            <div class="unit-skill-state" pos="0"></div>
                                            <div class="unit-skill-state" pos="1"></div>
                                            <div class="unit-skill-state" pos="2"></div>
                                            <div class="unit-skill-state" pos="3"></div>
                                        </div>
                                        <div class="unit-conditions buffs"></div>                                        
                                        <div class="unit-conditions debuffs"></div>                                        
                                    </div>                                    
                                </div>                                
                            </div>                        
                        </div>                        
                        <div id="master-dashboard" class="script-dashboard">                                                        
                            
                            <div id="action-queue"></div>
                            <div id="script-console"></div>
                        </div>
                        <ul id="script-tabs" class="navlist">
                            <li class="nav-tab active" data-navpage="script-tracker-container">Tracker</li>
                            <li class="nav-tab" data-navpage="script-editor-container">Editor</li>
                            <li class="nav-tab" data-navpage="script-runner-container">Engine</li>
                        </ul>                                
                        <div id="table-dialog">
                            <div><table></table></div>                                                                                    
                            <input type="text" class="prompt"></input>
                        </div>
                        <div class="djeeta-code-container">
                            <div id="script-tracker-container" class="code-tab active">
                                <div class="script-dashboard">
                                    <div style="display: flex; ">
                                        <button id="btn-copy-script">🡆 Copy To Editor</button>
                                    </div>
                                </div>
                                <div id="script-tracker" class="djeeta-code"></div>                                
                            </div>                                                    
                            <div id="script-editor-container" class="code-tab">
                                <div class="script-dashboard">                                                                        
                                    <div class="data-row">
                                        <div id="editor-file-menu" class="menu">
                                            <button id="btn-editor-file-menu" class="menu-button">File</button>
                                            <div class="menu-content">
                                                <a class="menu-new">New</a>
                                                <a class="menu-open">Open</a>
                                                <a class="menu-save">Save</a>                                                
                                            </div>
                                        </div>
                                        <button id="btn-execute-script" class="menu-button">Load Engine</button>
                                        <div>Script: <span id="script-editor-scriptname"></span></div>
                                    </div>                                    
                                    
                                </div>                                
                                <textarea id="script-editor" spellcheck="false" class="djeeta-code"></textarea>
                            </div>                            
                            <div id="script-runner-container" class="code-tab">
                                <div class="script-dashboard column-table">
                                    <div>                                        
                                        <div class="dashboard-component">
                                            <span>Enable Script:</span>
                                            <label id="toggle-combat-script" class="switch">
                                                <input type="checkbox">
                                                <span class="slider round"></span>
                                            </label>
                                        </div>
                                        <div class="dashboard-component">
                                            <span>Auto Load:</span>
                                            <label id="toggle-auto-detect-script" class="switch">
                                                <input type="checkbox">
                                                <span class="slider round"></span>
                                            </label>
                                        </div>
                                        <button id="btn-load-current" class="menu-button">Load Fight</button>
                                    </div>
                                    <div>
                                        <div class="dashboard-component">
                                            <span>Refresh delay</span>
                                            <input id="refresh-delay" type="text" value="1.0"/>
                                        </div>
                                        <div class="dashboard-component">
                                            <span>Skill delay</span>
                                            <input id="skill-delay" type="text" value="1.0"/>
                                        </div>
                                    </div>
                                    
                                </div>
                                <div id="script-runner" class="djeeta-code"></div>                        
                            </div>
                        </div>                                                
                    </div>
                </div>                
            </div>
            <div id="settings" class="tab">
                <!-- TODO: Improve layout -->
                <div class="panel">
                    <span class="panel-header" data-event="collapse">General</span>
                    <div class="panel-content">
                        <input data-global-setting="true" type="checkbox" name="colorCodeDrops"><label>Color code chest drops</label>
                    </div>
                </div>
                <div class="panel">
                    <span class="panel-header" data-event="collapse">Notifications</span>
                    <div class="panel-content">
                        <input data-global-setting="true" type="checkbox" name="notifyWeaponDrop"><label>SSR weapons</label>
                        <input data-global-setting="true" type="checkbox" name="notifyPlannerItem"><label>Active plan item completions</label>
                        <input data-global-setting="true" type="checkbox" name="notifyNmTrigger"><label>NM triggers</label>
                    </div>
                </div>
                <div class="panel">
                    <span class="panel-header" data-event="collapse">Visilibity & usability</span>
                    <div class="panel-content">
                        <input data-global-setting="true" type="checkbox" name="hideRaidsByRank"><label>Hide raids over your rank</label>
                        <input data-global-setting="true" type="checkbox" name="blockHostByAP"><label>Don't host raid when AP insufficient</label>
                        <input data-global-setting="true" type="checkbox" name="blockHostByMats"><label>Don't host raid when materials insufficient</label>
                        <input data-global-setting="true" type="checkbox" name="blockHostByDailyNum"><label>Don't host raid when out of daily hosts</label>
                        <div class="spacer"></div>
                        <input data-global-setting="true" type="checkbox" name="focusGameOnAction"><label>Focus game when interacting</label>
                        <input data-global-setting="true" type="checkbox" name="focusOnlyMinimized"><label>Only focus when minimized</label>
                        <input data-global-setting="true" type="checkbox" name="keepTimersActive"><label>Keep timers active on closing</label>
                    </div>
                </div>
                <div class="panel">
                    <span class="panel-header" data-event="collapse">Debugging</span>
                    <div class="panel-content">
                        <input data-global-setting="true" type="checkbox" name="checkUpdates"><label>Check for updates</label>
                        <input data-global-setting="true" type="checkbox" name="useDevBranch"><label>Check updates from dev branch</label>
                        <input data-global-setting="true" type="checkbox" name="debug"><label>Debug mode</label>
                        <input data-global-setting="true" type="checkbox" name="dbgNotifyWarnings"><label>Notify warnings</label>
                        <input data-global-setting="true" type="checkbox" name="dbgNotifyErrors"><label>Notify errors</label>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
